# ================================== #
# Kamon-Akka Reference Configuration #
# ================================== #

kamon {
  akka {
    # If ask-pattern-timeout-warning is enabled, a WARN level log message will be generated if a future generated by the `ask`
    # pattern fails with a `AskTimeoutException` and the log message will contain information depending of the strategy selected.
    # strategies:
    #   - off: nothing to do.
    #   - lightweight: logs the warning when a timeout is reached using org.aspectj.lang.reflect.SourceLocation.
    #   - heavyweight: logs the warning when a timeout is reached using a stack trace captured at the moment the future was created.
    ask-pattern-timeout-warning = off

    # Default dispatcher for all akka module operations
    dispatcher = ${kamon.default-dispatcher}
  }

  metrics.precision {
    actor {
      processing-time = ${kamon.metrics.precision.default-histogram-precision}
      time-in-mailbox = ${kamon.metrics.precision.default-histogram-precision}
      mailbox-size = ${kamon.metrics.precision.default-min-max-counter-precision}
    }

    router {
      routing-time = ${kamon.metrics.precision.default-histogram-precision}
      processing-time = ${kamon.metrics.precision.default-histogram-precision}
      time-in-mailbox = ${kamon.metrics.precision.default-histogram-precision}
    }

    dispatcher {
      maximum-pool-size {
        highest-trackable-value = 999999999
        significant-value-digits = 2
      }
      running-thread-count {
        highest-trackable-value = 999999999
        significant-value-digits = 2
      }
      queued-task-count {
        highest-trackable-value = 999999999
        significant-value-digits = 2
      }
      pool-size {
        highest-trackable-value = 999999999
        significant-value-digits = 2
      }
    }
  }
}